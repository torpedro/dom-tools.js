var DomListener=function(){function a(a,b){var c=this;this.selector=a,this.callback=b;for(var d=document.querySelectorAll(a),e=0;e<d.length;++e)b(d[e]);this.observer=new MutationObserver(function(a,b){c.onDomMutations(a)}),this.observer.observe(document,{childList:!0,subtree:!0})}return a.prototype.destroy=function(){this.observer.disconnect()},a.prototype.onDomMutations=function(a){for(var b=0;b<a.length;b++)for(var c=a[b],d=0;d<c.addedNodes.length;++d){var e=c.addedNodes[d];this.onNodeAdded(e)}},a.prototype.onNodeAdded=function(a){if(a.nodeType===Node.ELEMENT_NODE){var b=a;if(b.matches)b.matches(this.selector)&&this.callback(b);else for(var c=b.parentElement.querySelectorAll(this.selector),d=0;d<c.length;++d)if(c[d]===b){this.callback(b);break}}},a}();